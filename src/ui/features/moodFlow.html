<div class="mf-module">
    <header class="mf-header">
        <div class="mf-header-content">
            <h1>Mood Pixel</h1>
            <div class="mf-birthday-card">
                <div class="bd-label">üéÇ Thi·∫øt l·∫≠p ng√†y sinh:</div>
                <div class="mf-birthday-inputs">
                    <input type="text" id="bd-day" placeholder="DD" maxlength="2" oninput="MoodFlow.autoFocus(this, 'bd-month')">
                    <span>/</span>
                    <input type="text" id="bd-month" placeholder="MM" maxlength="2" oninput="MoodFlow.autoFocus(this, 'bd-year')">
                    <span>/</span>
                    <input type="text" id="bd-year" placeholder="YYYY" maxlength="4">
                    <button class="mf-btn-save-bd" onclick="MoodFlow.saveBirthday()">L∆∞u</button>
                </div>
            </div>
        </div>
    </header>

    <div class="mf-summary-grid">
        <div class="summary-card" style="--c: var(--s5)">
            <span class="dot"></span><label>TUY·ªÜT V·ªúI</label><strong id="stat-5">0</strong>
        </div>
        <div class="summary-card" style="--c: var(--s4)">
            <span class="dot"></span><label>VUI V·∫∫</label><strong id="stat-4">0</strong>
        </div>
        <div class="summary-card" style="--c: var(--s3)">
            <span class="dot"></span><label>B√åNH TH∆Ø·ªúNG</label><strong id="stat-3">0</strong>
        </div>
        <div class="summary-card" style="--c: var(--s2)">
            <span class="dot"></span><label>M·ªÜT M·ªéI</label><strong id="stat-2">0</strong>
        </div>
        <div class="summary-card" style="--c: var(--s1)">
            <span class="dot"></span><label>T·ªíI T·ªÜ</label><strong id="stat-1">0</strong>
        </div>
    </div>

    <div class="mf-container">
        <div class="mf-calendar-nav">
            <div class="nav-month-selector">
                <button class="nav-arrow" onclick="MoodFlow.changePage(-1)">‚ùÆ</button>
                <span id="mf-label">Th√°ng 01/2026</span>
                <button class="nav-arrow" onclick="MoodFlow.changePage(1)">‚ùØ</button>
            </div>
            
            <div class="mf-segmented-control">
                <button class="seg-btn" id="seg-year" onclick="MoodFlow.setViewMode('year')">NƒÉm</button>
                <button class="seg-btn active" id="seg-month" onclick="MoodFlow.setViewMode('month')">Th√°ng</button>
                <button class="seg-btn" id="seg-week" onclick="MoodFlow.setViewMode('week')">Tu·∫ßn</button>
                <div class="seg-glider"></div>
            </div>
        </div>

        <div id="mf-grid-wrapper" class="mf-grid-scroll-container">
             <div id="mf-grid" class="mf-grid month-view"></div>
        </div>
        
        <div id="mf-action-tooltip" class="mf-action-tooltip" style="display:none"></div>
    </div>

    <div id="mf-modal" class="mf-modal-overlay" style="display:none">
        <div class="mf-modal-container">
            <div class="mf-modal-card">
                <header class="modal-header">
                    <div class="modal-title-group">
                        <span class="modal-subtitle" id="modal-birthday-msg" style="color:#ff69b4; display:none">üéÇ Ch√∫c m·ª´ng sinh nh·∫≠t b·∫°n!</span>
                        <h2 class="modal-title" id="modal-date-title">Ng√†y 13/01/2026</h2>
                    </div>
                    <button class="btn-close-modal" onclick="MoodFlow.closeModal()">‚úï</button>
                </header>

                <div class="modal-body">
                    <div id="modal-view-state" class="state-anim">
                        <div class="mf-display-card">
                            <div class="mood-icon-wrap">
                                <img id="view-img" src="" alt="Mood">
                            </div>
                            <div class="mood-info-wrap">
                                <time id="view-time">--:--</time>
                                <p id="view-note"></p>
                            </div>
                        </div>
                        <div class="modal-actions-grid">
                            <button id="btn-show-history" class="mf-btn mf-btn-secondary" onclick="MoodFlow.showHistory()">üìú L·ªãch s·ª≠</button>
                            <button class="mf-btn mf-btn-primary" onclick="MoodFlow.startFlow('new')">C·∫≠p nh·∫≠t</button>
                            <button class="mf-btn mf-btn-outline-danger" onclick="MoodFlow.deleteDayData()">Xo√° ng√†y n√†y</button>
                        </div>
                    </div>

                    <div id="modal-history-state" class="state-anim" style="display:none">
                        <div class="history-list" id="history-items"></div>
                        <div class="modal-actions-grid mt-20">
                            <button class="mf-btn mf-btn-secondary" onclick="MoodFlow.showDetail(null)">Quay l·∫°i</button>
                        </div>
                    </div>

                    <div id="modal-entry-flow" class="state-anim" style="display:none">
                        <div id="step-1" class="entry-step">
                            <label class="entry-label">B·∫°n ƒëang c·∫£m th·∫•y th·∫ø n√†o?</label>
                            <div class="mood-selection-wrapper">
                                <button class="mood-item" onclick="MoodFlow.nextStep(5)"><img src="../assets/alien05.png"><span>Tuy·ªát v·ªùi</span></button>
                                <button class="mood-item" onclick="MoodFlow.nextStep(4)"><img src="../assets/alien04.png"><span>Vui v·∫ª</span></button>
                                <button class="mood-item" onclick="MoodFlow.nextStep(3)"><img src="../assets/alien03.png"><span>B√¨nh th∆∞·ªùng</span></button>
                                <button class="mood-item" onclick="MoodFlow.nextStep(2)"><img src="../assets/alien02.png"><span>M·ªát m·ªèi</span></button>
                                <button class="mood-item" onclick="MoodFlow.nextStep(1)"><img src="../assets/alien01.png"><span>T·ªìi t·ªá</span></button>
                            </div>
                        </div>
                        <div id="step-2" class="entry-step" style="display:none">
                            <label class="entry-label">ƒêi·ªÅu g√¨ ƒëang di·ªÖn ra?</label>
                            <textarea id="entry-note" class="mf-input-textarea" placeholder="Chia s·∫ª suy nghƒ© c·ªßa b·∫°n..."></textarea>
                            <div class="modal-actions-grid mt-20">
                                <button class="mf-btn mf-btn-ghost" onclick="MoodFlow.backToStep1()">Quay l·∫°i</button>
                                <button class="mf-btn mf-btn-primary" onclick="MoodFlow.finalize()">L∆∞u c·∫£m x√∫c</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>